<main class="h-screen px-4">
    <div class="flex-1  ">
        <div class="flex flex-row items-center justify-end mb-4 space-x-2 p-2 top-0">
            <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2.2"
            stroke="currentColor"
            class="w-5 h-5  text-black">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
          </svg>
       
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 21 25"
            fill="none"
            class="w-5 h-5 mt-1 text-black">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M2.62501 8.125C2.62501 6.03642 3.4547 4.03338 4.93155 2.55653C6.4084 1.07969 8.41143 0.25 10.5 0.25C12.5886 0.25 14.5916 1.07969 16.0685 2.55653C17.5453 4.03338 18.375 6.03642 18.375 8.125V12.3595L20.4248 16.459C20.5191 16.6477 20.5637 16.8574 20.5542 17.0681C20.5447 17.2789 20.4815 17.4837 20.3706 17.6631C20.2597 17.8426 20.1047 17.9907 19.9205 18.0934C19.7362 18.1961 19.5287 18.25 19.3178 18.25H14.8583C14.608 19.2155 14.0442 20.0706 13.2554 20.681C12.4666 21.2915 11.4974 21.6227 10.5 21.6227C9.50259 21.6227 8.5334 21.2915 7.74459 20.681C6.95578 20.0706 6.39201 19.2155 6.14176 18.25H1.68226C1.4713 18.25 1.26383 18.1961 1.07956 18.0934C0.895295 17.9907 0.740343 17.8426 0.629426 17.6631C0.51851 17.4837 0.45531 17.2789 0.44583 17.0681C0.436351 16.8574 0.480905 16.6477 0.575263 16.459L2.62501 12.3595V8.125ZM8.55151 18.25C8.749 18.592 9.03303 18.876 9.37506 19.0735C9.71709 19.2709 10.1051 19.3749 10.5 19.3749C10.895 19.3749 11.2829 19.2709 11.625 19.0735C11.967 18.876 12.251 18.592 12.4485 18.25H8.55151ZM10.5 2.5C9.00817 2.5 7.57743 3.09263 6.52254 4.14752C5.46765 5.20242 4.87501 6.63316 4.87501 8.125V12.3595C4.87499 12.7086 4.79372 13.053 4.63764 13.3652L3.32139 16H17.6798L16.3635 13.3652C16.207 13.0531 16.1254 12.7087 16.125 12.3595V8.125C16.125 6.63316 15.5324 5.20242 14.4775 4.14752C13.4226 3.09263 11.9919 2.5 10.5 2.5Z"
              fill="currentColor" />
          </svg>
          <img
          src="assets/user-photo.jpg"
          alt="Photo de profil"
          class="h-12 w-12 rounded-full mr-4"
        />
          </div>







         <!-- section principale -->
          <div class="flex flex-row items-center gap-2">
            <button (click)="goToPatientsPage()">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
              </svg>
            </button>
            <p class="text-xl font-bold ">Modifier le dossier de {{ patient?.nom }} {{ patient?.prenom }} :</p>
          </div>

         <div class="border-t border-gray-300 mt-4"></div>



        
      
        <!-- Onglets -->
        <div class="flex mt-4 justify-between">
          <img src="assets/upfolder.svg" class="hidden xl:block justify-self-start" alt="">
          <div class=" flex flex-row  space-x-4 ">
            <button 
            class="px-10 py-2 rounded-full " 
            [ngClass]="{ 'bg-[#2D6974] text-white': activeTab === 'profil', 'bg-gray-200 text-gray-700': activeTab !== 'profil' }"
            (click)="setActiveTab('profil')">
            Profil
          </button>
          <button 
            class="px-6 py-2 rounded-full" 
            [ngClass]="{ 'bg-[#2D6974] text-white': activeTab === 'consultations', 'bg-gray-200 text-gray-700': activeTab !== 'consultations' }"
            (click)="setActiveTab('consultations')">
            Consultations
          </button>
          <button 
            class="px-6 py-2 rounded-full" 
            [ngClass]="{ 'bg-[#2D6974] text-white': activeTab === 'antecedents', 'bg-gray-200 text-gray-700': activeTab !== 'antecedents' }"
            (click)="setActiveTab('antecedents')">
            Antécédents
          </button>
          <button 
            class="px-6 py-2 rounded-full" 
            [ngClass]="{ 'bg-[#2D6974] text-white': activeTab === 'soins', 'bg-gray-200 text-gray-700': activeTab !== 'soins' }"
            (click)="setActiveTab('soins')">
            Soins
          </button>
          </div>
         
        </div>
      
        <!-- Contenu de l'onglet -->
        <div class="bg-[#F4F4F4] rounded-tr-lg rounded-b-lg  shadow-lg p-6  ">
          
          <!-- contenue de profil -->
          <div *ngIf="activeTab === 'profil'">
            <div class="flex flex-row space-x-4 items-start justify-start h-full">
                <img src="assets/profil.svg" class="">
                <div class="flex flex-col space-y-2 w-full">
                  <p class="text-3xl font-bold">{{ patient?.nom }} {{ patient?.prenom }} </p>
                  <p class="text-sm text-gray-500">Patient depuis {{ patient?.dateEntree }}</p>
                  <div class="bg-white rounded-3xl p-8 flex flex-col space-y-2 w-">
                    <p><strong class="font-bold">Nom :</strong> {{ patient?.nom }}</p>
                    <p><strong class="font-bold">Prénom :</strong> {{ patient?.prenom }}</p>
                    <p><strong class="font-bold">NSS :</strong> {{ patient?.nss }}</p>
                    <p><strong class="font-bold">Date de naissance :</strong> {{ patient?.dateNaissance }}</p>
                    <p><strong class="font-bold">Adresse :</strong> {{ patient?.adresse }}</p>
                    <p><strong class="font-bold">N°Téléphone :</strong> {{ patient?.telephone }}</p>
                    <p><strong class="font-bold">Mutuelle :</strong> {{ patient?.mutuelle }}</p>
                    <p><strong class="font-bold">Médecin Traitant :</strong> {{ patient?.nom }}</p>
                    <p><strong class="font-bold">Sexe :</strong> {{ patient?.sexe }}</p>
                  </div>
                </div>
            </div>
          </div>

         <!-- Onglet Consultations -->
          <div *ngIf="activeTab === 'consultations'" class="">
            <div class="flex flex-row justify-between items-baseline">
              <h3 class="text-xl font-bold mb-4">Liste des Consultations</h3>
              <button       
                      (click)="toggleModal()"
                      class="px-4 py-2 bg-[#2D6974] flex flex-row items-center justify-center rounded-full text-sm font-bold   text-white">
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="white" class="size-4 mr-2 ">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                          </svg>
                          Ajouter consultation 
              </button>
            </div>

        <!-- Popup/Modal -->
        <div *ngIf="showModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
          <div class="bg-gray-100 rounded-3xl shadow-lg p-6 w-full max-w-xl">
            <!-- Header du popup -->
            <div class="flex flex-row justify-between items-baseline">
              <p class="text-xl font-bold mb-4">Ajouter une consultation</p>
              <button (click)="toggleModal()" class="text-gray-500 hover:text-gray-800 ">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                  <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                </svg>
              </button>
            </div>
            <div class="border-t border-gray-300 mb-4"></div>

            <!-- Formulaire complet -->
            <form [formGroup]="consultationForm" class="mt-6">
              <!-- Informations générales -->
              <div class="mb-4">
                <label class="text-sm font-bold">Date de consultation :</label>
                <input type="date" formControlName="date" class="border p-2 rounded w-full" />
              </div>

              <!-- Ordonnance -->
              <div class="mb-4">
                <label class="text-sm font-bold">Ordonnance :</label>
                <div formArrayName="ordonnance" class="max-h-32 overflow-y-auto">
                  <div
                    *ngFor="let medication of ordonnance.controls; let i = index"
                    [formGroupName]="i"
                    class="flex items-center space-x-2 mb-2 "
                  >
                    <input type="text" formControlName="nom" placeholder="Nom" class="border p-2 rounded w-full" />
                    <input type="text" formControlName="dose" placeholder="Dose" class="border p-2 rounded w-full" />
                    <input type="text" formControlName="duree" placeholder="Durée" class="border p-2 rounded w-full" />
                    <input type="text" formControlName="details" placeholder="Détails" class="border p-2 rounded w-full" />
                    <button type="button" (click)="removeMedication(i)" class=" "> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                      <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
                    </svg>
                    </button>
                  </div>
                  <button (click)="addMedication()" class="px-4 py-2 flex flex-row space-x-3 rounded-full text-sm font-bold text-black items-center ">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 ">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                    <p>Ajouter Médicament</p>
                  </button>
                </div>
              </div>

              <!-- Examens complémentaires -->
              <div class="mb-4">
                <label class="text-sm font-bold">Bilan Radiologique :</label>
                <input type="text" formControlName="radio" class="border p-2 rounded w-full mb-4" />
                <label class="text-sm font-bold">Bilan Biologique :</label>
                <input type="text" formControlName="biologique" class="border p-2 rounded w-full" />
              </div>

              <!-- Résumé -->
              <div class="mb-4">
                <label class="text-sm font-bold">Résumé :</label>
                <textarea formControlName="resume" rows="3" class="border p-2 rounded w-full"></textarea>
              </div>
            </form>

            <!-- Boutons d'action -->
            <div class="flex flex-row justify-end items-end space-x-2 mt-4">
              <button (click)="toggleModal()" class="px-12 py-3 bg-white flex flex-row items-center justify-center rounded-full text-sm font-bold text-black">
                Annuler
              </button>
              <button (click)="submitConsultation()" class="px-12 py-3 bg-[#2D6974] rounded-full text-sm font-bold text-white">
                Ajouter
              </button>
            </div>
          </div>
        </div>
        <div class="max-h-96 overflow-y-auto space-y-4">
              <div *ngFor="let consultation of consultations" class="mb-6">
                <!-- Date -->
                <p class="text-gray-600 text-sm mb-2"><strong>Date :</strong> {{ consultation.date }}</p>
              
                <!-- Résumé -->
                <div class="p-4 bg-white rounded-lg shadow border-l-4 border-[#448894]">
                  <div class="flex flex-row space-x-4 items-center mb-4">
                    <p><strong>Résumé :</strong></p>
                    <button
                      class="bg-gray-200 text-black font-semibold px-3 py-1 rounded-full text-sm flex flex-row  items-center space-x-4"
                      (click)="downloadPDF(consultation.resume, 'Résumé')">            
                      Résumé.pdf
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 ml-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                      </svg>  
                    </button>
                  </div>
              
                  <!-- Bilans -->
                  <div class="flex flex-row space-x-10 items-center ">
                    <div class="flex flex-row space-x-4 items-center mb-4">
                      <p><strong>Bilan Radiologique :</strong> </p>
                      <button
                        class="bg-gray-200 text-black font-semibold px-3 py-1 rounded-full text-sm flex flex-row  items-center space-x-4"
                        (click)="downloadPDF(consultation.bilans.radio, 'Bilan Radiologique')">
                        BilanRadiologique.pdf
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 ml-2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                        </svg> 
                      </button>
                    </div>
                    <div class="flex flex-row space-x-4 items-center mb-4">
                      <p><strong>Bilan Biologique :</strong> </p>
                      <button
                        class="bg-gray-200 text-black font-semibold px-3 py-1 rounded-full text-sm flex flex-row  items-center space-x-4"
                        (click)="downloadPDF(consultation.bilans.biologique, 'Bilan Biologique')">
                        BilanBiologique.pdf
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 ml-2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                        </svg> 
                      </button>
                    </div>
                  </div>
              
                  <!-- Ordonnance -->
                  <div class="flex flex-row space-x-4 items-center mb-4">
                    <p><strong>Ordonnance :</strong></p>
                    <button
                      class="bg-gray-200 text-black font-semibold px-3 py-1 rounded-full text-sm flex flex-row  items-center space-x-4"
                      (click)="downloadPDF(generateOrdonnanceContent(consultation.ordonnance), 'Ordonnance')">
                      Ordonnance.pdf
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 ml-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                      </svg> 
                    </button>

                  </div>
                </div>
              </div>
              
              
        </div>
        </div>


       <!-- Onglet des antécédents -->
        <div *ngIf="activeTab === 'antecedents'" class="min-h-[450px]">
                <div class="flex flex-row justify-between items-baseline">
                  <h3 class="text-xl font-bold mb-4">Liste des Antécédents</h3>
                  <button       
                          (click)="toggleAntecedentModal()"
                          class="px-4 py-2 bg-[#2D6974] flex flex-row items-center justify-center rounded-full text-sm font-bold text-white">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="white" class="size-4 mr-2 ">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                      </svg>
                      Ajouter un Antécédent 
                  </button>
                </div>

                <!-- Tableau des antécédents -->
                <table class="table-auto w-full text-left text-sm text-gray-600 mt-4">
                  <thead>
                    <tr class="bg-gray-200">
                      <th class="p-2">Condition</th>
                      <th class="p-2">Date</th>
                      <th class="p-2">Commentaire</th>
                      <th class="p-2 text-center">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="let antecedent of paginatedAntecedents"
                      class="hover:bg-gray-50"
                    >
                      <td class="p-2">{{ antecedent.condition }}</td>
                      <td class="p-2">{{ antecedent.date }}</td>
                      <td class="p-2">{{ antecedent.commentaire }}</td>
                      <td class="p-2 text-center">
                        <button
                          (click)="askToDeleteAntecedent(antecedent)"
                        >
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                          <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
                        </svg>          </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

                  <!-- Popup pour ajouter un antécédent -->
                  <div
                  *ngIf="showAntecedentModal"
                  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
                >
                  <div
                    class="bg-gray-100 rounded-lg shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto"
                  >
                    <div class="flex justify-between items-center mb-4">
                      <h4 class="text-lg font-bold">Ajouter un Antécédent</h4>
                      <button
                        (click)="toggleAntecedentModal()"
                        class="text-gray-500 hover:text-gray-800"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          class="h-6 w-6"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
                            clip-rule="evenodd"
                          />
                        </svg>
                      </button>
                    </div>
                    <div class="border-t border-gray-300"></div>
                
                    <form
                      [formGroup]="antecedentForm"
                      (ngSubmit)="addAntecedent()"
                      class="flex flex-col gap-4 mt-6"
                    >
                      <input
                        type="text"
                        formControlName="condition"
                        placeholder="Condition"
                        class="border p-2 rounded"
                      />
                      <input
                        type="date"
                        formControlName="date"
                        class="border p-2 rounded"
                      />
                      <textarea
                        formControlName="commentaire"
                        placeholder="Commentaire"
                        class="border p-2 rounded"
                      ></textarea>
                      <!-- Buttons -->
                      <div
                        class="flex flex-row justify-end items-end space-x-2 mt-4"
                      >
                        <button
                          type="button"
                          (click)="toggleAntecedentModal()"
                          class="px-12 py-3 bg-white flex flex-row items-center justify-center rounded-full text-sm font-bold text-black"
                        >
                          Annuler
                        </button>
                        <button
                          type="submit"
                          class="px-12 py-3 bg-[#2D6974] rounded-full text-sm font-bold text-white"
                        >
                          Ajouter
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                

                <!-- Pagination -->
                <div class="grid grid-cols-3 mt-9 self-center justify-items-center fixed bottom-12 w-[80%]">
                  <button
                    class="text-md text-gray-600"
                    [disabled]="currentAntecedentPage === 1"
                    (click)="changeAntecedentPage(currentAntecedentPage - 1)"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                      <path fill-rule="evenodd" d="M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
                    </svg>                      
                  </button>

                  <div class="space-x-2">
                    <button
                      *ngFor="let page of [].constructor(Math.ceil(antecedents.length / itemsPerAntecedentPage)); let i = index"
                      (click)="changeAntecedentPage(i + 1)"
                      [class.bg-[#2D6974]]="currentAntecedentPage === i + 1"
                      [class.text-white]="currentAntecedentPage === i + 1"
                      class="px-3 py-1 rounded-md"
                    >
                      {{ i + 1 }}
                    </button>
                  </div>

                  <button
                    class="text-md text-gray-600"
                    [disabled]="currentAntecedentPage === Math.ceil(antecedents.length / itemsPerAntecedentPage)"
                    (click)="changeAntecedentPage(currentAntecedentPage + 1)"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                      <path fill-rule="evenodd" d="M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                    </svg>
                  </button>
                </div>
        </div>
        <!-- Confirmation de suppression d'un antécédent -->
        <div
        *ngIf="antecedentToDelete"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
        >
        <div class="bg-gray-100 p-6 rounded-lg shadow-lg w-[90%] md:w-[30%]">
          <p class="text-xl font-bold mb-4">Confirmation</p>
          <p>
            Êtes-vous sûr de vouloir supprimer l'antécédent 
            "<span class="font-semibold">{{ antecedentToDelete?.condition }}</span>"
            pour <span class="font-semibold">{{ patient?.nom }} {{ patient?.prenom }}</span> ?
          </p>
          <div class="flex justify-end space-x-4 mt-4">
            <button
              class="px-6 py-3 text-sm font-bold bg-white text-black rounded-full"
              (click)="cancelAntecedentDeletion()"
            >
              Annuler
            </button>
            <button
              class="px-6 py-3 text-sm font-bold bg-[#2D6974] text-white rounded-full text"
              (click)="confirmAntecedentDeletion()"
            >
              Supprimer
            </button>
          </div>
        </div>
        </div>


 

          
         
          
        </div>
    </div>
</main>